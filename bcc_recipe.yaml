$engine: 3
$onesync: on
$steamRequired: true
name: BCC Scripts Pack
author: Bryce Canyon County
description: BCC + VORP Official txAdmin Recipe! Incluye todos los recursos principales organizados.

variables:
    steam_webApiKey: "none"

tasks:

# =====================================================
# 1. BASE OFICIAL VORP
# =====================================================
  - action: download_github
    src: https://github.com/VORPCORE/VORP_txAdmin
    ref: main
    dest: ./temp/vorp_txAdminRecipe
  
  - action: move_path
    src: ./temp/vorp_txAdminRecipe/server.cfg
    dest: ./server.cfg

  - action: connect_database
  - action: query_database
    file: ./temp/vorp_txAdminRecipe/MariaDB.sql

  - action: move_path
    src: ./temp/vorp_txAdminRecipe/icon.png
    dest: ./icon.png

# =====================================================
# 2. CFX RECURSOS BASE
# =====================================================
  - action: download_github
    src: https://github.com/citizenfx/cfx-server-data
    ref: master
    subpath: resources
    dest: ./resources/
  - action: remove_path
    path: ./resources/[CFX]/[gameplay]/chat

# =====================================================
# 3. DEPENDENCIAS STANDALONE
# =====================================================
  - action: download_file
    path: ./tmp/files/oxmysql.zip
    url: https://github.com/overextended/oxmysql/releases/latest/download/oxmysql.zip
  - action: unzip
    dest: ./resources/[standalone]
    src: ./tmp/files/oxmysql.zip

  - action: download_github
    src: https://github.com/AvarianKnight/pma-voice
    ref: main
    dest: ./resources/[standalone]/pma-voice

  - action: download_github
    src: https://github.com/mkafrin/PolyZone
    ref: master
    dest: ./resources/[standalone]/PolyZone

  - action: download_github
    src: https://github.com/kibook/weathersync
    ref: master
    dest: ./resources/[standalone]/weathersync

  - action: download_github
    src: https://github.com/outsider31000/redm-ipls
    ref: main
    dest: ./resources/[standalone]/redm-ipls

  - action: download_github
    src: https://github.com/outsider31000/moonshine_interiors
    ref: main
    dest: ./resources/[standalone]/moonshine_interiors

  - action: download_github
    src: https://github.com/outsider31000/syn_minigame
    ref: main
    dest: ./resources/[standalone]/syn_minigame

  - action: download_github
    src: https://github.com/outsider31000/lockpick
    ref: main
    dest: ./resources/[standalone]/lockpick

  - action: download_github
    src: https://github.com/outsider31000/loadingscreen
    ref: main
    dest: ./resources/[standalone]/loadingscreen

# =====================================================
# 4. CORE DE BCC
# =====================================================
  - action: download_github
    src: https://github.com/BryceCanyonCounty/bcc-core
    ref: main
    dest: ./resources/[bcc]/bcc-core

  - action: download_github
    src: https://github.com/BryceCanyonCounty/bcc-utils
    ref: main
    dest: ./resources/[bcc]/bcc-utils

  - action: download_github
    src: https://github.com/BryceCanyonCounty/bcc-admin
    ref: main
    dest: ./resources/[bcc]/bcc-admin

  - action: download_github
    src: https://github.com/BryceCanyonCounty/bcc-menu
    ref: main
    dest: ./resources/[bcc]/bcc-menu

# =====================================================
# 5. SISTEMAS DE JUGABILIDAD
# =====================================================
  - action: download_github
    src: https://github.com/BryceCanyonCounty/bcc-inventory
    ref: main
    dest: ./resources/[bcc]/bcc-inventory

  - action: download_github
    src: https://github.com/BryceCanyonCounty/bcc-crafting
    ref: main
    dest: ./resources/[bcc]/bcc-crafting

  - action: download_github
    src: https://github.com/BryceCanyonCounty/bcc-housing
    ref: main
    dest: ./resources/[bcc]/bcc-housing

  - action: download_github
    src: https://github.com/BryceCanyonCounty/bcc-hunting
    ref: main
    dest: ./resources/[bcc]/bcc-hunting

  - action: download_github
    src: https://github.com/BryceCanyonCounty/bcc-fishing
    ref: main
    dest: ./resources/[bcc]/bcc-fishing

  - action: download_github
    src: https://github.com/BryceCanyonCounty/bcc-mining
    ref: main
    dest: ./resources/[bcc]/bcc-mining

  - action: download_github
    src: https://github.com/BryceCanyonCounty/bcc-woodcutting
    ref: main
    dest: ./resources/[bcc]/bcc-woodcutting

# =====================================================
# 6. TRABAJOS OFICIALES
# =====================================================
  - action: download_github
    src: https://github.com/BryceCanyonCounty/bcc-police
    ref: main
    dest: ./resources/[bcc]/bcc-police

  - action: download_github
    src: https://github.com/BryceCanyonCounty/bcc-medic
    ref: main
    dest: ./resources/[bcc]/bcc-medic

  - action: download_github
    src: https://github.com/BryceCanyonCounty/bcc-stables
    ref: main
    dest: ./resources/[bcc]/bcc-stables

# =====================================================
# 7. ECONOM√çA Y COMERCIO
# =====================================================
  - action: download_github
    src: https://github.com/BryceCanyonCounty/bcc-banking
    ref: main
    dest: ./resources/[bcc]/bcc-banking

  - action: download_github
    src: https://github.com/BryceCanyonCounty/bcc-paycheck
    ref: main
    dest: ./resources/[bcc]/bcc-paycheck

  - action: download_github
    src: https://github.com/BryceCanyonCounty/bcc-stores
    ref: main
    dest: ./resources/[bcc]/bcc-stores

# =====================================================
# 8. SOCIAL & RP
# =====================================================
  - action: download_github
    src: https://github.com/BryceCanyonCounty/bcc-mail
    ref: main
    dest: ./resources/[bcc]/bcc-mail

  - action: download_github
    src: https://github.com/BryceCanyonCounty/bcc-emotes
    ref: main
    dest: ./resources/[bcc]/bcc-emotes

  - action: download_github
    src: https://github.com/BryceCanyonCounty/bcc-barbershop
    ref: main
    dest: ./resources/[bcc]/bcc-barbershop

  - action: download_github
    src: https://github.com/BryceCanyonCounty/bcc-metabolism
    ref: main
    dest: ./resources/[bcc]/bcc-metabolism

# =====================================================
# 9. UTILIDADES RP
# =====================================================
  - action: download_github
    src: https://github.com/BryceCanyonCounty/bcc-doorlocks
    ref: main
    dest: ./resources/[bcc]/bcc-doorlocks

  - action: download_github
    src: https://github.com/BryceCanyonCounty/bcc-outlaws
    ref: main
    dest: ./resources/[bcc]/bcc-outlaws

  - action: download_github
    src: https://github.com/BryceCanyonCounty/bcc-zonenotify
    ref: main
    dest: ./resources/[bcc]/bcc-zonenotify

# =====================================================
# 10. LIMPIEZA FINAL
# =====================================================
  - action: move_path
    src: ./temp/[bcc]
    dest: ./resources/[bcc]

  - action: remove_path
    path: ./temp
  - action: remove_path
    path: ./tmp
